# Django Telegram Bot with Celery, Redis, and Email Notification

This project is a Django-based application that integrates:
- âœ… Telegram bot using `python-telegram-bot`
- âœ… Background task processing with **Celery**
- âœ… Redis as a message broker
- âœ… Email notifications on user registration
- âœ… SQLite DB with custom user model

---

## ğŸ“¦ Tech Stack

- Django
- Celery
- Redis
- python-telegram-bot
- Billiard & Kombu (for Celery workers)
- Gmail SMTP (for sending welcome emails)

---
File Structure---
myproject/
â”‚
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ models.py         # CustomUser model
â”‚   â”œâ”€â”€ tasks.py          # Celery email task
â”‚   â”œâ”€â”€ signals.py        # Connects post_save to task
â”‚   â””â”€â”€ apps.py           # Ready method to import signals
â”‚
â”œâ”€â”€ bot/
â”‚   â””â”€â”€ telegram_bot.py   # Telegram command handling logic
â”‚
â”œâ”€â”€ myproject/
â”‚   â”œâ”€â”€ settings.py
â”‚   â”œâ”€â”€ celery.py         # Celery setup
â”‚   â””â”€â”€ __init__.py       # Load celery app
â”‚
â””â”€â”€ README.md


## ğŸš€ Setup Instructions

### 1ï¸âƒ£ Clone the Repository

```bash
git clone https://github.com/shivankupadhyay-eng/KLBIntern.git


##Setup a virtualenv 
virtualenv myenv
    ###activate (on windows)
        venv\Scripts\activatex
##install the required packages
    pip install django djangorestframework djangorestframework-simplejwt celery redis python-telegram-bot

##for migrations
python manage.py makemigrations
python manage.py migrate

##create superuser to get access to the databse
python manage.py createsuperuser
    ###enter only username and password

##Run the server
    python manage.py runserver

## first api which is public
    127.0.0.1:8000/api/login/
    ###pass username and email in the body 

##second api which is private
    127.0.0.1/8000/api/private/
    ###use the access token that will be generated by the login api in the bearer token in authentication section as this is a get request

for testing the celery and redis implementation and sending email
    ## in bash run redis 
    redis-server
    ##run celery in another terminal using
    celery myproject -A worker --loglevel=info
    ##in another terminal run shell
    python manage.py shell
        from core.tasks import send_welcome_email
        send_welcome_email.delay('test@gmail.com', 'TestUser')

for testing telegram bot
#activate the virtualenv
then go to bot folder using 
    #cd bot
then use the below command
    #python telegram_bot.py

##go to telegram and search for the bot "gmechangerbot"
##and message "\start"
##you will receive a message from the bot

